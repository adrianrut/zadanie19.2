<!doctype html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Password</title>

    <script type="text/javascript">

        function checkPassword() {
          let password = document.getElementById("psw1");
          let errorText = document.getElementById("passwordHelpInline");
          let passwordToShort = "\nZa krótkie hasło. Min 8 znaków. \n";
          let smallLetter = "\nMin jedna mała litera. \n";
          let capitalLetter = "\nMin jedna duza litera. \n";
          let specialSign = "\nMin jeden znak specjalny. \n";
          let emptySign = "";
          errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          if (!/[a-z]/.test(password.value)) {
            errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          } else {
            smallLetter = emptySign;
            errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          }
          if (!/[A-Z]/.test(password.value)) {
            errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          } else {
            capitalLetter = emptySign;
            errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          }
          if (!/[@$!%*#?&]/.test(password.value)) {
            errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          } else {
            specialSign = emptySign;
            errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          }
          if (password.value.length < 8) {
            errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          } else {
            passwordToShort = emptySign;
            errorText.innerHTML = passwordToShort + smallLetter + capitalLetter + specialSign;
          }
        }

        function checkConfirm() {
            let password = document.getElementById("psw1");
            let confirm = document.getElementById("psw2");
            let errorConfirmText = document.getElementById("confirmHelpInline");
            if (password.value !== confirm.value) {
                errorConfirmText.innerHTML = 'Hasła rónią się od siebie';
            } else {
                errorConfirmText.innerHTML = '';
            }
        }

    </script>

</head>

<body>
<div style="margin-top: 350px; margin-left: 750px;">
    <div class="mb-3 needs-Validation">
        <label for="psw1" class="form-label">Hasło</label><br><br>
        <input type="password" class="form-control" id="psw1" onkeyup="checkPassword()"><br><br>
        <span style="color: red" id="passwordHelpInline" class="form-text"></span>
    </div>
    <div class="mb-3">
        <label for="psw2" class="form-label">Powtórz hasło</label><br><br>
        <input type="password" class="form-control" id="psw2" onkeyup="checkConfirm()"><br><br>
        <span style="color: red" id="confirmHelpInline" class="form-text"></span>
    </div>
</div>
</body>
</html>